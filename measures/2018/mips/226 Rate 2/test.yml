measure_id: 18.MIPS.Mips226Rate2
test_set_keys:
  organization_key:
    patients:
      - name: Too Young # Below age range
        denominator:
        denominator_exclusion:
        denominator_exception:
        numerator:
      - name: Age Lower # Lower bound of age range
        denominator: 1
        denominator_exclusion:
        denominator_exception:
        numerator: G9908
      - name: 226Encounter Early # Encounter too early
        denominator:
        denominator_exclusion:
        denominator_exception:
        numerator:
      - name: 226Encounter Lower # Encounter at lower bound
        denominator: 1
        denominator_exclusion:
        denominator_exception:
        numerator: G9908
      - name: 226Encounter Upper # Encounter at upper bound
        denominator: 1
        denominator_exclusion:
        denominator_exception:
        numerator: G9908
      - name: 226Encounter Late # Encounter too late
        denominator:
        denominator_exclusion:
        denominator_exception:
        numerator:
      - name: DenominatorEncounter InvalidModifier
        denominator:
        denominator_exclusion:
        denominator_exception:
        numerator:
      - name: DenominatorEncounter InvalidPOS
        denominator:
        denominator_exclusion:
        denominator_exception:
        numerator:
      - name: 226Encounter DifferentProviders # 226 encounters with different providers
        denominator: 1
        denominator_exclusion:
        denominator_exception:
        numerator: G9908
      - name: PreventiveEncounter Early # Encounter too early
        denominator:
        denominator_exclusion:
        denominator_exception:
        numerator:
      - name: PreventiveEncounter Lower # Encounter at lower bound
        denominator: 1
        denominator_exclusion:
        denominator_exception:
        numerator: G9908
      - name: PreventiveEncounter Upper # Encounter at upper bound
        denominator: 1
        denominator_exclusion:
        denominator_exception:
        numerator: G9908
      - name: PreventiveEncounter Late # Encounter too late
        denominator:
        denominator_exclusion:
        denominator_exception:
        numerator:
      - name: TobaccoUser Early # Tobacco user status too early
        denominator:
        denominator_exclusion:
        denominator_exception:
        numerator:
      - name: TobaccoUser Lower # Tobacco user status at lower bound
        denominator: 1
        denominator_exclusion:
        denominator_exception:
        numerator: G9908
      - name: TobaccoUser Upper # Tobacco user status at upper bound
        denominator: 1
        denominator_exclusion:
        denominator_exception:
        numerator: G9908
      - name: TobaccoUser Late # Tobacco user status too late
        denominator:
        denominator_exclusion:
        denominator_exception:
        numerator:
      - name: G9906 Early # Performance met G9906 before interval
        denominator: 1
        denominator_exclusion:
        denominator_exception:
        numerator: G9908
      - name: G9906 Lower # Performance met G9906 lower bound interval
        denominator: 1
        denominator_exclusion:
        denominator_exception:
        numerator: G9906
      - name: G9906 Upper # Performance met G9906 upper bound interval
        denominator: 1
        denominator_exclusion:
        denominator_exception:
        numerator: G9906
      - name: G9906 Late # Performance met G9906 after interval
        denominator: 1
        denominator_exclusion:
        denominator_exception:
        numerator: G9908
      - name: Counseling Early # Tobacco user with counseling before interval
        denominator: 1
        denominator_exclusion:
        denominator_exception:
        numerator: G9908
      - name: Counseling Lower # Tobacco user with counseling lower bound interval
        denominator: 1
        denominator_exclusion:
        denominator_exception:
        numerator: G9906
      - name: Counseling Upper # Tobacco user with counseling upper bound interval
        denominator: 1
        denominator_exclusion:
        denominator_exception:
        numerator: G9906
      - name: Counseling Late # Tobacco user with counseling after interval
        denominator: 1
        denominator_exclusion:
        denominator_exception:
        numerator: G9908
      - name: Medication Early # Tobacco user with medication ending before interval
        denominator: 1
        denominator_exclusion:
        denominator_exception:
        numerator: G9908
      - name: Medication Lower # Tobacco user with medication ending at lower bound interval
        denominator: 1
        denominator_exclusion:
        denominator_exception:
        numerator: G9906
      - name: Medication Upper # Tobacco user with medication starting at upper bound interval
        denominator: 1
        denominator_exclusion:
        denominator_exception:
        numerator: G9906
      - name: Medication Late # Tobacco user with medication starting after interval
        denominator: 1
        denominator_exclusion:
        denominator_exception:
        numerator: G9908
      - name: G9907 Early # G9907 before interval
        denominator: 1
        denominator_exclusion:
        denominator_exception:
        numerator: G9908
      - name: G9907 Lower # G9907 lower bound interval
        denominator: 1
        denominator_exclusion:
        denominator_exception: G9907
        numerator:
      - name: G9907 Upper # G9907 upper bound interval
        denominator: 1
        denominator_exclusion:
        denominator_exception: G9907
        numerator:
      - name: G9907 Late # G9907 after interval
        denominator: 1
        denominator_exclusion:
        denominator_exception:
        numerator: G9908
      - name: G9907 PriorEncounter # G9907 not on most recent encounter
        denominator: 1
        denominator_exclusion:
        denominator_exception:
        numerator: G9908
      - name: LimitedLife Early # Limited life expectancy ends before interval
        denominator: 1
        denominator_exclusion:
        denominator_exception:
        numerator: G9908
      - name: LimitedLife Lower # Limited life expectancy ends lower bound interval
        denominator: 1
        denominator_exclusion:
        denominator_exception: G9907
        numerator:
      - name: LimitedLife Upper # Limited life expectancy starts upper bound interval
        denominator: 1
        denominator_exclusion:
        denominator_exception: G9907
        numerator:
      - name: LimitedLife Late # Limited life expectancy starts after interval
        denominator: 1
        denominator_exclusion:
        denominator_exception:
        numerator: G9908
      - name: LimitedLife PriorEncounter # Limited life expectancy not on most recent encounter
        denominator: 1
        denominator_exclusion:
        denominator_exception:
        numerator: G9908
  providers_key:
    - name: Rachel
      patients:
        - name: Too Young # Below age range
          denominator:
          denominator_exclusion:
          denominator_exception:
          numerator:
        - name: Age Lower # Lower bound of age range
          denominator: 1
          denominator_exclusion:
          denominator_exception:
          numerator: G9908
        - name: 226Encounter Early # Encounter too early
          denominator:
          denominator_exclusion:
          denominator_exception:
          numerator:
        - name: 226Encounter Lower # Encounter at lower bound
          denominator: 1
          denominator_exclusion:
          denominator_exception:
          numerator: G9908
        - name: 226Encounter Upper # Encounter at upper bound
          denominator: 1
          denominator_exclusion:
          denominator_exception:
          numerator: G9908
        - name: 226Encounter Late # Encounter too late
          denominator:
          denominator_exclusion:
          denominator_exception:
          numerator:
        - name: 226Encounter DifferentProviders # 226 encounters with different providers
          denominator:
          denominator_exclusion:
          denominator_exception:
          numerator:
        - name: PreventiveEncounter Early # Encounter too early
          denominator:
          denominator_exclusion:
          denominator_exception:
          numerator:
        - name: PreventiveEncounter Lower # Encounter at lower bound
          denominator: 1
          denominator_exclusion:
          denominator_exception:
          numerator: G9908
        - name: PreventiveEncounter Upper # Encounter at upper bound
          denominator: 1
          denominator_exclusion:
          denominator_exception:
          numerator: G9908
        - name: PreventiveEncounter Late # Encounter too late
          denominator:
          denominator_exclusion:
          denominator_exception:
          numerator:
        - name: TobaccoUser Early # Tobacco user status too early
          denominator:
          denominator_exclusion:
          denominator_exception:
          numerator:
        - name: TobaccoUser Lower # Tobacco user status at lower bound
          denominator: 1
          denominator_exclusion:
          denominator_exception:
          numerator: G9908
        - name: TobaccoUser Upper # Tobacco user status at upper bound
          denominator: 1
          denominator_exclusion:
          denominator_exception:
          numerator: G9908
        - name: TobaccoUser Late # Tobacco user status too late
          denominator:
          denominator_exclusion:
          denominator_exception:
          numerator:
        - name: G9906 Early # Performance met G9906 before interval
          denominator: 1
          denominator_exclusion:
          denominator_exception:
          numerator: G9908
        - name: G9906 Lower # Performance met G9906 lower bound interval
          denominator: 1
          denominator_exclusion:
          denominator_exception:
          numerator: G9906
        - name: G9906 Upper # Performance met G9906 upper bound interval
          denominator: 1
          denominator_exclusion:
          denominator_exception:
          numerator: G9906
        - name: G9906 Late # Performance met G9906 after interval
          denominator: 1
          denominator_exclusion:
          denominator_exception:
          numerator: G9908
        - name: Counseling Early # Tobacco user with counseling before interval
          denominator: 1
          denominator_exclusion:
          denominator_exception:
          numerator: G9908
        - name: Counseling Lower # Tobacco user with counseling lower bound interval
          denominator: 1
          denominator_exclusion:
          denominator_exception:
          numerator: G9906
        - name: Counseling Upper # Tobacco user with counseling upper bound interval
          denominator: 1
          denominator_exclusion:
          denominator_exception:
          numerator: G9906
        - name: Counseling Late # Tobacco user with counseling after interval
          denominator: 1
          denominator_exclusion:
          denominator_exception:
          numerator: G9908
        - name: Medication Early # Tobacco user with medication ending before interval
          denominator: 1
          denominator_exclusion:
          denominator_exception:
          numerator: G9908
        - name: Medication Lower # Tobacco user with medication ending at lower bound interval
          denominator: 1
          denominator_exclusion:
          denominator_exception:
          numerator: G9906
        - name: Medication Upper # Tobacco user with medication starting at upper bound interval
          denominator: 1
          denominator_exclusion:
          denominator_exception:
          numerator: G9906
        - name: Medication Late # Tobacco user with medication starting after interval
          denominator: 1
          denominator_exclusion:
          denominator_exception:
          numerator: G9908
        - name: G9907 Early # G9907 before interval
          denominator: 1
          denominator_exclusion:
          denominator_exception:
          numerator: G9908
        - name: G9907 Lower # G9907 lower bound interval
          denominator: 1
          denominator_exclusion:
          denominator_exception: G9907
          numerator:
        - name: G9907 Upper # G9907 upper bound interval
          denominator: 1
          denominator_exclusion:
          denominator_exception: G9907
          numerator:
        - name: G9907 Late # G9907 after interval
          denominator: 1
          denominator_exclusion:
          denominator_exception:
          numerator: G9908
        - name: G9907 PriorEncounter # G9907 not on most recent encounter
          denominator: 1
          denominator_exclusion:
          denominator_exception:
          numerator: G9908
        - name: LimitedLife Early # Limited life expectancy ends before interval
          denominator: 1
          denominator_exclusion:
          denominator_exception:
          numerator: G9908
        - name: LimitedLife Lower # Limited life expectancy ends lower bound interval
          denominator: 1
          denominator_exclusion:
          denominator_exception: G9907
          numerator:
        - name: LimitedLife Upper # Limited life expectancy starts upper bound interval
          denominator: 1
          denominator_exclusion:
          denominator_exception: G9907
          numerator:
        - name: LimitedLife Late # Limited life expectancy starts after interval
          denominator: 1
          denominator_exclusion:
          denominator_exception:
          numerator: G9908
        - name: LimitedLife PriorEncounter # Limited life expectancy not on most recent encounter
          denominator: 1
          denominator_exclusion:
          denominator_exception:
          numerator: G9908
providers:
- given_name: Rachel
  family_name: Kohler
  external_id: '111-111'
  credential: DO
  primary_specialty: Family Medicine
- given_name: Patty
  family_name: PrimaryCare
  external_id: '222-222'
  credential: MD
  primary_specialty: Family Medicine
patients:
  - name: Too Young
    attributes:
      date_of_birth: 1998-02-02
      given_name: Too
      family_name: Young
      sex: Female
    clinical_models:
      clinical_activities:
      - code_type: CPT
        code_value: 92521
        start_date: 2016-02-01
        provider: Rachel
      - code_type: CPT
        code_value: G9902 # Tobacco user
        start_date: 2016-02-01
  - name: Age Lower
    attributes:
      date_of_birth: 1998-02-01
      given_name: Age
      family_name: Lower
      sex: Female
    clinical_models:
      clinical_activities:
      - code_type: CPT
        code_value: 92521
        start_date: 2016-02-01
        provider: Rachel
      - code_type: CPT
        code_value: G9902 # Tobacco user
        start_date: 2016-02-01
  - name: 226Encounter Early
    attributes:
      date_of_birth: 1988-03-22
      given_name: 226Encounter
      family_name: Early
      sex: Female
    clinical_models:
      clinical_activities:
      - code_type: CPT
        code_value: 90791
        start_date: 2015-12-31
        provider: Rachel
      - code_type: CPT
        code_value: 90792
        start_date: 2016-01-01
        provider: Rachel
      - code_type: CPT
        code_value: G9902 # Tobacco user
        start_date: 2016-02-01
  - name: 226Encounter Lower
    attributes:
      date_of_birth: 1988-03-22
      given_name: 226Encounter
      family_name: Lower
      sex: Female
    clinical_models:
      clinical_activities:
      - code_type: CPT
        code_value: 90791
        start_date: 2016-01-01
        provider: Rachel
      - code_type: CPT
        code_value: 90792
        start_date: 2016-01-01
        provider: Rachel
      - code_type: CPT
        code_value: G9902 # Tobacco user
        start_date: 2016-02-01
  - name: 226Encounter Upper
    attributes:
      date_of_birth: 1988-03-22
      given_name: 226Encounter
      family_name: Upper
      sex: Female
    clinical_models:
      clinical_activities:
      - code_type: CPT
        code_value: 90791
        start_date: 2016-12-31
        provider: Rachel
      - code_type: CPT
        code_value: 90792
        start_date: 2016-01-01
        provider: Rachel
      - code_type: CPT
        code_value: G9902 # Tobacco user
        start_date: 2016-02-01
  - name: 226Encounter Late
    attributes:
      date_of_birth: 1988-03-22
      given_name: 226Encounter
      family_name: Late
      sex: Female
    clinical_models:
      clinical_activities:
      - code_type: CPT
        code_value: 90791
        start_date: 2017-01-01
        provider: Rachel
      - code_type: CPT
        code_value: 90792
        start_date: 2016-01-01
        provider: Rachel
      - code_type: CPT
        code_value: G9902 # Tobacco user
        start_date: 2016-02-01
  - name: DenominatorEncounter InvalidModifier
    attributes:
      date_of_birth: 1988-03-22
      given_name: DenominatorEncounter
      family_name: InvalidModifier
      sex: Female
    clinical_models:
      clinical_activities:
      - code_type: CPT
        code_value: 90791
        start_date: 2016-12-31
        provider: Rachel
      - code_type: CPT
        code_value: 90792
        start_date: 2016-01-01
        provider: Rachel
        code_modifiers: ['GQ']
      - code_type: CPT
        code_value: G9902 # Tobacco user
        start_date: 2016-02-01
  - name: DenominatorEncounter InvalidPOS
    attributes:
      date_of_birth: 1988-03-22
      given_name: DenominatorEncounter
      family_name: InvalidPOS
      sex: Female
    clinical_models:
      clinical_activities:
      - code_type: CPT
        code_value: 90791
        start_date: 2016-12-31
        provider: Rachel
        place_of_service: ['02']
      - code_type: CPT
        code_value: 90792
        start_date: 2016-01-01
        provider: Rachel
      - code_type: CPT
        code_value: G9902 # Tobacco user
        start_date: 2016-02-01
  - name: 226Encounter DifferentProviders
    attributes:
      date_of_birth: 1988-03-22
      given_name: 226Encounter
      family_name: DifferentProviders
      sex: Female
    clinical_models:
      clinical_activities:
      - code_type: CPT
        code_value: 90791
        start_date: 2016-01-01
        provider: Rachel
      - code_type: CPT
        code_value: 90792
        start_date: 2016-01-01
        provider: Patty
      - code_type: CPT
        code_value: G9902 # Tobacco user
        start_date: 2016-02-01
  - name: PreventiveEncounter Early
    attributes:
      date_of_birth: 1988-03-22
      given_name: PreventiveEncounter
      family_name: Early
      sex: Female
    clinical_models:
      clinical_activities:
      - code_type: CPT
        code_value: 92522
        start_date: 2015-12-31
        provider: Rachel
      - code_type: CPT
        code_value: G9902 # Tobacco user
        start_date: 2016-02-01
  - name: PreventiveEncounter Lower
    attributes:
      date_of_birth: 1988-03-22
      given_name: PreventiveEncounter
      family_name: Lower
      sex: Female
    clinical_models:
      clinical_activities:
      - code_type: CPT
        code_value: 92522
        start_date: 2016-01-01
        provider: Rachel
      - code_type: CPT
        code_value: G9902 # Tobacco user
        start_date: 2016-02-01
  - name: PreventiveEncounter Upper
    attributes:
      date_of_birth: 1988-03-22
      given_name: PreventiveEncounter
      family_name: Upper
      sex: Female
    clinical_models:
      clinical_activities:
      - code_type: CPT
        code_value: 92522
        start_date: 2016-12-31
        provider: Rachel
      - code_type: CPT
        code_value: G9902 # Tobacco user
        start_date: 2016-02-01
  - name: PreventiveEncounter Late
    attributes:
      date_of_birth: 1988-03-22
      given_name: PreventiveEncounter
      family_name: Late
      sex: Female
    clinical_models:
      clinical_activities:
      - code_type: CPT
        code_value: 92522
        start_date: 2017-01-01
      - code_type: CPT
        code_value: G9902 # Tobacco user
        start_date: 2016-02-01
  - name: TobaccoUser Early
    attributes:
      date_of_birth: 1988-03-22
      given_name: TobaccoUser
      family_name: Early
      sex: Female
    clinical_models:
      clinical_activities:
      - code_type: CPT
        code_value: 92522
        start_date: 2016-02-01
        provider: Rachel
      - code_type: CPT
        code_value: G9902 # Tobacco user
        start_date: 2014-12-31 # Too early
  - name: TobaccoUser Lower
    attributes:
      date_of_birth: 1988-03-22
      given_name: TobaccoUser
      family_name: Lower
      sex: Female
    clinical_models:
      clinical_activities:
      - code_type: CPT
        code_value: 92522
        start_date: 2016-02-01
        provider: Rachel
      - code_type: CPT
        code_value: G9902 # Tobacco user
        start_date: 2015-01-01 # Lower bound
  - name: TobaccoUser Upper
    attributes:
      date_of_birth: 1988-03-22
      given_name: TobaccoUser
      family_name: Upper
      sex: Female
    clinical_models:
      clinical_activities:
      - code_type: CPT
        code_value: 92522
        start_date: 2016-12-31
        start_date: 2016-02-01
        provider: Rachel
      - code_type: CPT
        code_value: G9902 # Tobacco user
        start_date: 2016-12-31 # Upper bound
  - name: TobaccoUser Late
    attributes:
      date_of_birth: 1988-03-22
      given_name: TobaccoUser
      family_name: Late
      sex: Female
    clinical_models:
      clinical_activities:
      - code_type: CPT
        code_value: 92522
        start_date: 2016-02-01
      - code_type: CPT
        code_value: G9902 # Tobacco user
        start_date: 2017-01-01 # Too late
  - name: G9906 Early
    attributes:
      date_of_birth: 1988-03-22
      given_name: G9906
      family_name: Early
      sex: Female
    clinical_models:
      clinical_activities:
      - code_type: CPT
        code_value: 92522
        start_date: 2016-02-01
        provider: Rachel
      - code_type: CPT
        code_value: G9902 # Tobacco user
        start_date: 2016-02-01
      - code_type: CPT
        code_value: G9906
        start_date: 2014-12-31 # Too early
  - name: G9906 Lower
    attributes:
      date_of_birth: 1988-03-22
      given_name: G9906
      family_name: Lower
      sex: Female
    clinical_models:
      clinical_activities:
      - code_type: CPT
        code_value: 92522
        start_date: 2016-02-01
        provider: Rachel
      - code_type: CPT
        code_value: G9902 # Tobacco user
        start_date: 2016-02-01
      - code_type: CPT
        code_value: G9906
        start_date: 2015-01-01 # Lower bound
  - name: G9906 Upper
    attributes:
      date_of_birth: 1988-03-22
      given_name: G9906
      family_name: Upper
      sex: Female
    clinical_models:
      clinical_activities:
      - code_type: CPT
        code_value: 92522
        start_date: 2016-02-01
        provider: Rachel
      - code_type: CPT
        code_value: G9902 # Tobacco user
        start_date: 2016-02-01
      - code_type: CPT
        code_value: G9906
        start_date: 2016-12-31
  - name: G9906 Late
    attributes:
      date_of_birth: 1988-03-22
      given_name: G9906
      family_name: Late
      sex: Female
    clinical_models:
      clinical_activities:
      - code_type: CPT
        code_value: 92522
        start_date: 2016-02-01
        provider: Rachel
      - code_type: CPT
        code_value: G9902 # Tobacco user
        start_date: 2016-02-01
      - code_type: CPT
        code_value: G9906
        start_date: 2017-01-01
  - name: Counseling Early
    attributes:
      date_of_birth: 1988-03-22
      given_name: Counseling
      family_name: Early
      sex: Female
    clinical_models:
      clinical_activities:
      - code_type: CPT
        code_value: 92522
        start_date: 2016-02-01
        provider: Rachel
      - code_type: CPT
        code_value: G9902 # Tobacco user
        start_date: 2016-02-01
      - code_type: CPT
        code_value: 99406
        start_date: 2014-12-31
      diagnoses:
      - code_type: SNOMEDCT
        code_value: 160603005
        start_date: 2016-01-01
  - name: Counseling Lower
    attributes:
      date_of_birth: 1988-03-22
      given_name: Counseling
      family_name: Lower
      sex: Female
    clinical_models:
      clinical_activities:
      - code_type: CPT
        code_value: 92522
        start_date: 2016-02-01
        provider: Rachel
      - code_type: CPT
        code_value: G9902 # Tobacco user
        start_date: 2016-02-01
      - code_type: CPT
        code_value: 99406
        start_date: 2015-01-01
      diagnoses:
      - code_type: SNOMEDCT
        code_value: 160603005
        start_date: 2016-01-01
  - name: Counseling Upper
    attributes:
      date_of_birth: 1988-03-22
      given_name: Counseling
      family_name: Upper
      sex: Female
    clinical_models:
      clinical_activities:
      - code_type: CPT
        code_value: 92522
        start_date: 2016-02-01
        provider: Rachel
      - code_type: CPT
        code_value: G9902 # Tobacco user
        start_date: 2016-02-01
      - code_type: CPT
        code_value: 99406
        start_date: 2016-12-31
      diagnoses:
      - code_type: SNOMEDCT
        code_value: 160603005
        start_date: 2016-01-01
  - name: Counseling Late
    attributes:
      date_of_birth: 1988-03-22
      given_name: Counseling
      family_name: Late
      sex: Female
    clinical_models:
      clinical_activities:
      - code_type: CPT
        code_value: 92522
        start_date: 2016-02-01
        provider: Rachel
      - code_type: CPT
        code_value: G9902 # Tobacco user
        start_date: 2016-02-01
      - code_type: CPT
        code_value: 99406
        start_date: 2017-01-01
      diagnoses:
      - code_type: SNOMEDCT
        code_value: 160603005
        start_date: 2016-01-01
  - name: Medication Early
    attributes:
      date_of_birth: 1988-03-22
      given_name: Medication
      family_name: Early
      sex: Female
    clinical_models:
      clinical_activities:
      - code_type: CPT
        code_value: 92522
        start_date: 2016-02-01
        provider: Rachel
      - code_type: CPT
        code_value: G9902 # Tobacco user
        start_date: 2016-02-01
      medications:
      - code_type: RXNORM
        code_value: 1232585
        start_date: 2014-01-01
        stop_date: 2014-12-31
      diagnoses:
      - code_type: SNOMEDCT
        code_value: 160603005
        start_date: 2016-01-01
  - name: Medication Lower
    attributes:
      date_of_birth: 1988-03-22
      given_name: Medication
      family_name: Lower
      sex: Female
    clinical_models:
      clinical_activities:
      - code_type: CPT
        code_value: 92522
        start_date: 2016-02-01
        provider: Rachel
      - code_type: CPT
        code_value: G9902 # Tobacco user
        start_date: 2016-02-01
      medications:
      - code_type: RXNORM
        code_value: 1232585
        start_date: 2014-01-01
        stop_date: 2015-01-01
      diagnoses:
      - code_type: SNOMEDCT
        code_value: 160603005
        start_date: 2016-01-01
  - name: Medication Upper
    attributes:
      date_of_birth: 1988-03-22
      given_name: Medication
      family_name: Upper
      sex: Female
    clinical_models:
      clinical_activities:
      - code_type: CPT
        code_value: 92522
        start_date: 2016-02-01
        provider: Rachel
      - code_type: CPT
        code_value: G9902 # Tobacco user
        start_date: 2016-02-01
      medications:
      - code_type: RXNORM
        code_value: 1232585
        start_date: 2016-12-31
      diagnoses:
      - code_type: SNOMEDCT
        code_value: 160603005
        start_date: 2016-01-01
  - name: Medication Late
    attributes:
      date_of_birth: 1988-03-22
      given_name: Medication
      family_name: Late
      sex: Female
    clinical_models:
      clinical_activities:
      - code_type: CPT
        code_value: 92522
        start_date: 2016-02-01
        provider: Rachel
      - code_type: CPT
        code_value: G9902 # Tobacco user
        start_date: 2016-02-01
      medications:
      - code_type: RXNORM
        code_value: 1232585
        start_date: 2017-01-01
      diagnoses:
      - code_type: SNOMEDCT
        code_value: 160603005
        start_date: 2016-01-01
  - name: G9907 Early
    attributes:
      date_of_birth: 1988-03-22
      given_name: G9907
      family_name: Early
      sex: Female
    clinical_models:
      clinical_activities:
      - code_type: CPT
        code_value: 92522
        start_date: 2016-02-01
        stop_date: 2016-02-02
        provider: Rachel
      - code_type: CPT
        code_value: G9902 # Tobacco user
        start_date: 2016-02-01
      - code_type: CPT
        code_value: G9907
        start_date: 2016-01-31 # Too early
  - name: G9907 Lower
    attributes:
      date_of_birth: 1988-03-22
      given_name: G9907
      family_name: Lower
      sex: Female
    clinical_models:
      clinical_activities:
      - code_type: CPT
        code_value: 92522
        start_date: 2016-02-01
        stop_date: 2016-02-02
        provider: Rachel
      - code_type: CPT
        code_value: G9902 # Tobacco user
        start_date: 2016-02-01
      - code_type: CPT
        code_value: G9907
        start_date: 2016-02-01 # Lower bound
  - name: G9907 Upper
    attributes:
      date_of_birth: 1988-03-22
      given_name: G9907
      family_name: Upper
      sex: Female
    clinical_models:
      clinical_activities:
      - code_type: CPT
        code_value: 92522
        start_date: 2016-02-01
        stop_date: 2016-02-02
        provider: Rachel
      - code_type: CPT
        code_value: G9902 # Tobacco user
        start_date: 2016-02-01
      - code_type: CPT
        code_value: G9907
        start_date: 2016-02-02 # Upper bound
  - name: G9907 Late
    attributes:
      date_of_birth: 1988-03-22
      given_name: G9907
      family_name: Late
      sex: Female
    clinical_models:
      clinical_activities:
      - code_type: CPT
        code_value: 92522
        start_date: 2016-02-01
        stop_date: 2016-02-02
        provider: Rachel
      - code_type: CPT
        code_value: G9902 # Tobacco user
        start_date: 2016-02-01
      - code_type: CPT
        code_value: G9907
        start_date: 2016-02-03 # Too late
  - name: G9907 PriorEncounter
    attributes:
      date_of_birth: 1988-03-22
      given_name: G9907
      family_name: PriorEncounter
      sex: Female
    clinical_models:
      clinical_activities:
      - code_type: CPT
        code_value: 92522
        start_date: 2016-02-01
        stop_date: 2016-02-02
        provider: Rachel
      - code_type: CPT
        code_value: 92522
        start_date: 2016-03-01
        stop_date: 2016-03-02
        provider: Rachel
      - code_type: CPT
        code_value: G9902 # Tobacco user
        start_date: 2016-02-01
      - code_type: CPT
        code_value: G9907
        start_date: 2016-02-01 # During encounter that is not the most recent
  - name: LimitedLife Early
    attributes:
      date_of_birth: 1988-03-22
      given_name: LimitedLife
      family_name: Early
      sex: Female
    clinical_models:
      clinical_activities:
      - code_type: CPT
        code_value: 92522
        start_date: 2016-02-01
        stop_date: 2016-02-02
        provider: Rachel
      - code_type: CPT
        code_value: G9902 # Tobacco user
        start_date: 2016-02-01
      diagnoses:
      - code_type: SNOMEDCT
        code_value: 162607003
        start_date: 2015-01-01
        stop_date: 2016-01-31 # Too early
  - name: LimitedLife Lower
    attributes:
      date_of_birth: 1988-03-22
      given_name: LimitedLife
      family_name: Lower
      sex: Female
    clinical_models:
      clinical_activities:
      - code_type: CPT
        code_value: 92522
        start_date: 2016-02-01
        stop_date: 2016-02-02
        provider: Rachel
      - code_type: CPT
        code_value: G9902 # Tobacco user
        start_date: 2016-02-01
      diagnoses:
      - code_type: SNOMEDCT
        code_value: 162607003
        start_date: 2016-02-01 # Lower bound
  - name: LimitedLife Upper
    attributes:
      date_of_birth: 1988-03-22
      given_name: LimitedLife
      family_name: Upper
      sex: Female
    clinical_models:
      clinical_activities:
      - code_type: CPT
        code_value: 92522
        start_date: 2016-02-01
        stop_date: 2016-02-02
        provider: Rachel
      - code_type: CPT
        code_value: G9902 # Tobacco user
        start_date: 2016-02-01
      diagnoses:
      - code_type: SNOMEDCT
        code_value: 162607003
        start_date: 2016-02-02 # Upper bound
  - name: LimitedLife Late
    attributes:
      date_of_birth: 1988-03-22
      given_name: LimitedLife
      family_name: Late
      sex: Female
    clinical_models:
      clinical_activities:
      - code_type: CPT
        code_value: 92522
        start_date: 2016-02-01
        stop_date: 2016-02-02
        provider: Rachel
      - code_type: CPT
        code_value: G9902 # Tobacco user
        start_date: 2016-02-01
      diagnoses:
      - code_type: SNOMEDCT
        code_value: 162607003
        start_date: 2016-02-03 # Too late
  - name: LimitedLife PriorEncounter
    attributes:
      date_of_birth: 1988-03-22
      given_name: LimitedLife
      family_name: PriorEncounter
      sex: Female
    clinical_models:
      clinical_activities:
      - code_type: CPT
        code_value: 92522
        start_date: 2016-02-01
        stop_date: 2016-02-02
        provider: Rachel
      - code_type: CPT
        code_value: 92522
        start_date: 2016-03-01
        stop_date: 2016-03-02
        provider: Rachel
      - code_type: CPT
        code_value: G9902 # Tobacco user
        start_date: 2016-02-01
      diagnoses:
      - code_type: SNOMEDCT
        code_value: 162607003
        start_date: 2016-02-01 # Overlaps encounter that is not the most recent
        stop_date: 2016-02-01
