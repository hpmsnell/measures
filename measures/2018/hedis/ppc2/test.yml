measure_id: 18.HEDIS.Ppc2
test_set_keys:
  organization_key:
    episodes_of_care:
    - name: DenominatorDelivery Before
      start_date: 2015-11-05
      denominator:
      denominator_exclusion:
      denominator_exception:
      numerator:
    - name: DenominatorDelivery Lower
      start_date: 2015-11-06
      denominator: 1
      denominator_exclusion:
      denominator_exception:
      numerator: performance_not_met
    - name: DenominatorDelivery Upper
      start_date: 2016-11-04
      denominator: 1
      denominator_exclusion:
      denominator_exception:
      numerator: performance_not_met
    - name: DenominatorDelivery After
      start_date: 2016-11-05
      denominator:
      denominator_exclusion:
      denominator_exception:
      numerator:
    - name: Exclusion NonLiveBirth # Before
      start_date: 2016-01-01
      denominator: 1
      denominator_exclusion:
      denominator_exception:
      numerator: performance_not_met
    - name: Exclusion NonLiveBirth # Lower
      start_date: 2016-02-01
      denominator:
      denominator_exclusion:
      denominator_exception:
      numerator:
    - name: Exclusion NonLiveBirth # Upper
      start_date: 2016-03-01
      denominator:
      denominator_exclusion:
      denominator_exception:
      numerator:
    - name: Exclusion NonLiveBirth # After
      start_date: 2016-04-01
      denominator: 1
      denominator_exclusion:
      denominator_exception:
      numerator: performance_not_met
    - name: ExclusionHospice Before
      start_date: 2016-01-01
      denominator: 1
      denominator_exclusion:
      denominator_exception:
      numerator: performance_not_met
    - name: ExclusionHospice Lower
      start_date: 2016-01-01
      denominator:
      denominator_exclusion:
      denominator_exception:
      numerator:
    - name: ExclusionHospice Upper
      start_date: 2016-01-01
      denominator:
      denominator_exclusion:
      denominator_exception:
      numerator:
    - name: ExclusionHospice After
      start_date: 2016-01-01
      denominator: 1
      denominator_exclusion:
      denominator_exception:
      numerator: performance_not_met
    - name: ExclusionSecondDelivery Before
      start_date: 2016-10-01
      denominator: 1
      denominator_exclusion:
      denominator_exception:
      numerator: performance_not_met
    - name: ExclusionSecondDelivery Lower
      start_date: 2016-10-01
      denominator:
      denominator_exclusion:
      denominator_exception:
      numerator:
    - name: ExclusionSecondDelivery Upper
      start_date: 2016-01-01
      denominator:
      denominator_exclusion:
      denominator_exception:
      numerator:
    - name: ExclusionSecondDelivery After
      start_date: 2016-01-01
      denominator: 1
      denominator_exclusion:
      denominator_exception:
      numerator: performance_not_met
    - name: Cytology Before
      start_date: 2016-01-01
      denominator: 1
      denominator_exclusion:
      denominator_exception:
      numerator: performance_not_met
    - name: Cytology Lower
      start_date: 2016-01-01
      denominator: 1
      denominator_exclusion:
      denominator_exception:
      numerator: performance_met
    - name: Cytology Upper
      start_date: 2016-01-01
      denominator: 1
      denominator_exclusion:
      denominator_exception:
      numerator: performance_met
    - name: Cytology After
      start_date: 2016-01-01
      denominator: 1
      denominator_exclusion:
      denominator_exception:
      numerator: performance_not_met
    - name: PostpartumVisit Before
      start_date: 2016-01-01
      denominator: 1
      denominator_exclusion:
      denominator_exception:
      numerator: performance_not_met
    - name: PostpartumVisit Lower
      start_date: 2016-01-01
      denominator: 1
      denominator_exclusion:
      denominator_exception:
      numerator: performance_met
    - name: PostpartumVisit Upper
      start_date: 2016-01-01
      denominator: 1
      denominator_exclusion:
      denominator_exception:
      numerator: performance_met
    - name: PostpartumVisit After
      start_date: 2016-01-01
      denominator: 1
      denominator_exclusion:
      denominator_exception:
      numerator: performance_not_met
providers:
  - given_name: Rachel
    family_name: Katz
    external_id: '111-111'
    credential: DO
    primary_specialty: Family Medicine
  - given_name: Patty
    family_name: Smith
    external_id: '222-222'
    credential: MD
    primary_specialty: Family Medicine
patients:
- name: DenominatorDelivery Before
  attributes:
    date_of_birth: 1970-01-01
    given_name: DenominatorDelivery
    family_name: Before
    sex: Female
  clinical_models:
    clinical_activities:
    - code_type: CPT
      code_value: 59400 # Delivery
      start_date: 2015-11-05 # Too early
- name: DenominatorDelivery Lower
  attributes:
    date_of_birth: 1970-01-01
    given_name: DenominatorDelivery
    family_name: Lower
    sex: Female
  clinical_models:
    clinical_activities:
    - code_type: CPT
      code_value: 59400 # Delivery
      start_date: 2015-11-06 # Lower bound
- name: DenominatorDelivery Upper
  attributes:
    date_of_birth: 1970-01-01
    given_name: DenominatorDelivery
    family_name: Upper
    sex: Female
  clinical_models:
    clinical_activities:
    - code_type: CPT
      code_value: 59400 # Delivery
      start_date: 2016-11-04 # Upper bound
- name: DenominatorDelivery After
  attributes:
    date_of_birth: 1970-01-01
    given_name: DenominatorDelivery
    family_name: After
    sex: Female
  clinical_models:
    clinical_activities:
    - code_type: CPT
      code_value: 59400 # Delivery
      start_date: 2016-11-05 # Too late
- name: Exclusion NonLiveBirth
  attributes:
    date_of_birth: 1970-01-01
    given_name: Exclusion
    family_name: NonLiveBirth
    sex: Female
  clinical_models:
    clinical_activities:
    - code_type: CPT
      code_value: 59400 # Delivery
      start_date: 2016-01-01
      stop_date: 2016-01-02
    - code_type: CPT
      code_value: 59400 # Delivery
      start_date: 2016-02-01
      stop_date: 2016-02-02
    - code_type: CPT
      code_value: 59400 # Delivery
      start_date: 2016-03-01
      stop_date: 2016-03-02
    - code_type: CPT
      code_value: 59400 # Delivery
      start_date: 2016-04-01
      stop_date: 2016-04-01
    diagnoses:
    - code_type: ICD10CM
      code_value: O00.0 # Non-live birth
      start_date: 2015-12-31 # Too early
    - code_type: ICD10CM
      code_value: O00.0 # Non-live birth
      start_date: 2016-02-01 # Lower bound
    - code_type: ICD10CM
      code_value: O00.0 # Non-live birth
      start_date: 2016-03-02 # Upper bound
    - code_type: ICD10CM
      code_value: O00.0 # Non-live birth
      start_date: 2016-04-03 # Too late
- name: ExclusionHospice Before
  attributes:
    date_of_birth: 1970-01-01
    given_name: ExclusionHospice
    family_name: Before
    sex: Female
  clinical_models:
    clinical_activities:
    - code_type: CPT
      code_value: 59400 # Delivery
      start_date: 2016-01-01
    - code_type: CPT
      code_value: G9687 # Hospice
      start_date: 2015-11-05 # Too early
- name: ExclusionHospice Lower
  attributes:
    date_of_birth: 1970-01-01
    given_name: ExclusionHospice
    family_name: Lower
    sex: Female
  clinical_models:
    clinical_activities:
    - code_type: CPT
      code_value: 59400 # Delivery
      start_date: 2016-01-01
    - code_type: CPT
      code_value: G9687 # Hospice
      start_date: 2015-11-06 # Lower bound
- name: ExclusionHospice Upper
  attributes:
    date_of_birth: 1970-01-01
    given_name: ExclusionHospice
    family_name: Upper
    sex: Female
  clinical_models:
    clinical_activities:
    - code_type: CPT
      code_value: 59400 # Delivery
      start_date: 2016-01-01
    - code_type: CPT
      code_value: G9687 # Hospice
      start_date: 2016-12-31 # Upper bound
- name: ExclusionHospice After
  attributes:
    date_of_birth: 1970-01-01
    given_name: ExclusionHospice
    family_name: After
    sex: Female
  clinical_models:
    clinical_activities:
    - code_type: CPT
      code_value: 59400 # Delivery
      start_date: 2016-01-01
    - code_type: CPT
      code_value: G9687 # Hospice
      start_date: 2017-01-01 # Too late
- name: ExclusionAdditionalDelivery Before
  attributes:
    date_of_birth: 1970-01-01
    given_name: ExclusionAdditionalDelivery
    family_name: Before
    sex: Female
  clinical_models:
    clinical_activities:
    - code_type: CPT
      code_value: 59400 # Delivery
      start_date: 2016-10-01
    - code_type: CPT
      code_value: 59400 # Additional delivery
      start_date: 2016-03-31 # Too early
- name: ExclusionAdditionalDelivery Lower
  attributes:
    date_of_birth: 1970-01-01
    given_name: ExclusionAdditionalDelivery
    family_name: Lower
    sex: Female
  clinical_models:
    clinical_activities:
    - code_type: CPT
      code_value: 59400 # Delivery
      start_date: 2016-10-01
    - code_type: CPT
      code_value: 59400 # Additional delivery
      start_date: 2016-04-01 # Lower bound
- name: ExclusionAdditionalDelivery Upper
  attributes:
    date_of_birth: 1970-01-01
    given_name: ExclusionAdditionalDelivery
    family_name: Upper
    sex: Female
  clinical_models:
    clinical_activities:
    - code_type: CPT
      code_value: 59400 # Delivery
      start_date: 2016-01-01
    - code_type: CPT
      code_value: 59400 # Additional delivery
      start_date: 2015-12-31 # Upper bound
- name: ExclusionAdditionalDelivery After
  attributes:
    date_of_birth: 1970-01-01
    given_name: ExclusionAdditionalDelivery
    family_name: After
    sex: Female
  clinical_models:
    clinical_activities:
    - code_type: CPT
      code_value: 59400 # Delivery
      start_date: 2016-01-01
    - code_type: CPT
      code_value: 59400 # Additional delivery
      start_date: 2016-01-01 # Too late
- name: Cytology Before
  attributes:
    date_of_birth: 1970-01-01
    given_name: Cytology
    family_name: Before
    sex: Female
  clinical_models:
    clinical_activities:
    - code_type: CPT
      code_value: 59400 # Delivery
      start_date: 2016-01-01
    laboratory_test_performeds:
    - code_type: LOINC
      code_value: 10524-7 # Cytology
      start_date: 2016-01-26 # Too early
- name: Cytology Lower
  attributes:
    date_of_birth: 1970-01-01
    given_name: Cytology
    family_name: Lower
    sex: Female
  clinical_models:
    clinical_activities:
    - code_type: CPT
      code_value: 59400 # Delivery
      start_date: 2016-01-01
    laboratory_test_performeds:
    - code_type: LOINC
      code_value: 10524-7 # Cytology
      start_date: 2016-01-27 # Lower bound
- name: Cytology Upper
  attributes:
    date_of_birth: 1970-01-01
    given_name: Cytology
    family_name: Upper
    sex: Female
  clinical_models:
    clinical_activities:
    - code_type: CPT
      code_value: 59400 # Delivery
      start_date: 2016-01-01
    laboratory_test_performeds:
    - code_type: LOINC
      code_value: 10524-7 # Cytology
      start_date: 2016-02-26 # Upper bound
- name: Cytology After
  attributes:
    date_of_birth: 1970-01-01
    given_name: Cytology
    family_name: After
    sex: Female
  clinical_models:
    clinical_activities:
    - code_type: CPT
      code_value: 59400 # Delivery
      start_date: 2016-01-01
    laboratory_test_performeds:
    - code_type: LOINC
      code_value: 10524-7 # Cytology
      start_date: 2016-02-27 # Too late
- name: PostpartumVisit Before
  attributes:
    date_of_birth: 1970-01-01
    given_name: PostpartumVisit
    family_name: Before
    sex: Female
  clinical_models:
    clinical_activities:
    - code_type: CPT
      code_value: 59400 # Delivery
      start_date: 2016-01-01
    - code_type: CPT
      code_value: 58300 # Postpartum visit
      start_date: 2016-01-26 # Too early
- name: PostpartumVisit Lower
  attributes:
    date_of_birth: 1970-01-01
    given_name: PostpartumVisit
    family_name: Lower
    sex: Female
  clinical_models:
    clinical_activities:
    - code_type: CPT
      code_value: 59400 # Delivery
      start_date: 2016-01-01
    - code_type: CPT
      code_value: 58300 # Postpartum visit
      start_date: 2016-01-27 # Lower bound
- name: PostpartumVisit Upper
  attributes:
    date_of_birth: 1970-01-01
    given_name: PostpartumVisit
    family_name: Upper
    sex: Female
  clinical_models:
    clinical_activities:
    - code_type: CPT
      code_value: 59400 # Delivery
      start_date: 2016-01-01
    - code_type: CPT
      code_value: 58300 # Postpartum visit
      start_date: 2016-02-26 # Upper bound
- name: PostpartumVisit After
  attributes:
    date_of_birth: 1970-01-01
    given_name: PostpartumVisit
    family_name: After
    sex: Female
  clinical_models:
    clinical_activities:
    - code_type: CPT
      code_value: 59400 # Delivery
      start_date: 2016-01-01
    - code_type: CPT
      code_value: 58300 # Postpartum visit
      start_date: 2016-02-27 # Too late
