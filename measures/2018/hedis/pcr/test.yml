measure_id: measure.Hedis.2018.Pcr
test_set_keys:
  organization_key:
    episodes_of_care:
      - name: Too Young
        start_date: 2016-02-01
        denominator:
        denominator_exclusion:
        denominator_exception:
        numerator:
      - name: Age Lower
        start_date: 2016-02-01
        denominator: 1
        denominator_exclusion:
        denominator_exception:
        numerator: performance_not_met
      - name: DenominatorDischarge Before
        start_date: 2015-12-31
        denominator:
        denominator_exclusion:
        denominator_exception:
        numerator:
      - name: DenominatorDischarge Lower
        start_date: 2016-01-01
        denominator: 1
        denominator_exclusion:
        denominator_exception:
        numerator: performance_not_met
      - name: DenominatorDischarge Upper
        start_date: 2016-12-01
        denominator: 1
        denominator_exclusion:
        denominator_exception:
        numerator: performance_not_met
      - name: DenominatorDischarge After
        start_date: 2016-12-02
        denominator:
        denominator_exclusion:
        denominator_exception:
        numerator:
      - name: DenominatorDischarge Nonacute
        start_date: 2016-02-01
        denominator:
        denominator_exclusion:
        denominator_exception:
        numerator:
      - name: DenominatorDischarge Transfer
        start_date: 2016-02-01
        denominator:
        denominator_exclusion:
        denominator_exception:
        numerator:
      - name: DenominatorDischarge Pregnancy
        start_date: 2016-02-01
        denominator:
        denominator_exclusion:
        denominator_exception:
        numerator:
      - name: DenominatorPlanned WithProcedure
        start_date: 2016-02-01
        denominator:
        denominator_exclusion:
        denominator_exception:
        numerator:
      - name: DenominatorPlanned WithoutProcedure
        start_date: 2016-02-01
        denominator: 1
        denominator_exclusion:
        denominator_exception:
        numerator: performance_met
      - name: DenominatorPlanned Late
        start_date: 2016-02-01
        denominator: 1
        denominator_exclusion:
        denominator_exception:
        numerator: performance_not_met
      - name: DenominatorHospice Before
        start_date: 2016-02-01
        denominator: 1
        denominator_exclusion:
        denominator_exception:
        numerator: performance_not_met
      - name: DenominatorHospice Lower
        start_date: 2016-02-01
        denominator:
        denominator_exclusion:
        denominator_exception:
        numerator:
      - name: DenominatorHospice Upper
        start_date: 2016-02-01
        denominator:
        denominator_exclusion:
        denominator_exception:
        numerator:
      - name: DenominatorHospice After
        start_date: 2016-02-01
        denominator: 1
        denominator_exclusion:
        denominator_exception:
        numerator: performance_not_met
      - name: Readmission Before
        start_date: 2016-02-1
        denominator:
        denominator_exclusion:
        denominator_exception:
        numerator:
      - name: Readmission Lower
        start_date: 2016-02-01
        denominator: 1
        denominator_exclusion:
        denominator_exception:
        numerator: performance_met
      - name: Readmission Upper
        start_date: 2016-02-01
        denominator: 1
        denominator_exclusion:
        denominator_exception:
        numerator: performance_met
      - name: Readmission After
        start_date: 2016-02-01
        denominator: 1
        denominator_exclusion:
        denominator_exception:
        numerator: performance_not_met
providers:
  - given_name: Rachel
    family_name:  Katz
    credential: DO
    primary_specialty:  Family Medicine
    external_id: 111
  - given_name: Patty
    family_name:  Smith
    credential: MD
    primary_specialty:  Family Medicine
    external_id: 222
patients:
- name: Too Young
  attributes:
    date_of_birth: 1999-01-01 # Too late
    given_name: Too
    family_name: Young
    sex: Male
  clinical_models:
    clinical_activities:
    - code_type: UB
      code_value: '0100'  # Discharge
      start_date: 2016-02-01
      stop_date: 2016-02-01
- name: Age Lower
  attributes:
    date_of_birth: 1998-12-31 # Lower bound
    given_name: Age
    family_name: Lower
    sex: Male
  clinical_models:
    clinical_activities:
    - code_type: UB
      code_value: '0100'  # Discharge
      start_date: 2016-02-01
      stop_date: 2016-02-01
- name: DenominatorDischarge Before
  attributes:
    date_of_birth: 1990-01-01
    given_name: DenominatorDischarge
    family_name: Before
    sex: Male
  clinical_models:
    clinical_activities:
    - code_type: UB
      code_value: '0100'  # Discharge
      start_date: 2015-12-31
      stop_date: 2015-12-31  # Too early
- name: DenominatorDischarge Lower
  attributes:
    date_of_birth: 1990-01-01
    given_name: DenominatorDischarge
    family_name: Lower
    sex: Male
  clinical_models:
    clinical_activities:
    - code_type: UB
      code_value: '0100'  # Discharge
      start_date: 2016-01-01
      stop_date: 2016-01-01  # Lower bound
- name: DenominatorDischarge Upper
  attributes:
    date_of_birth: 1990-01-01
    given_name: DenominatorDischarge
    family_name: Upper
    sex: Male
  clinical_models:
    clinical_activities:
    - code_type: UB
      code_value: '0100'  # Discharge
      start_date: 2016-12-01
      stop_date: 2016-12-01  # Upper bound
- name: DenominatorDischarge After
  attributes:
    date_of_birth: 1990-01-01
    given_name: DenominatorDischarge
    family_name: After
    sex: Male
  clinical_models:
    clinical_activities:
    - code_type: UB
      code_value: '0100'  # Discharge
      start_date: 2016-12-02
      stop_date: 2016-12-02  # Too late
- name: DenominatorDischarge Nonacute
  attributes:
    date_of_birth: 1990-01-01
    given_name: DenominatorDischarge
    family_name: Nonacute
    sex: Male
  clinical_models:
    clinical_activities:
    - code_type: UB
      code_value: '0100'  # Discharge
      start_date: 2016-02-01
      stop_date: 2016-02-01
    - code_type: UB
      code_value: '1000'  # Nonacute
      start_date: 2016-02-01
      stop_date: 2016-02-01
- name: DenominatorDischarge Transfer
  attributes:
    date_of_birth: 1990-01-01
    given_name: DenominatorDischarge
    family_name: Transfer
    sex: Male
  clinical_models:
    clinical_activities:
    - code_type: UB
      code_value: '0100'  # Discharge
      start_date: 2016-02-01
      stop_date: 2016-02-01
    - code_type: UB
      code_value: '0100'  # Transfer
      start_date: 2016-02-02
      stop_date: 2016-02-02
- name: DenominatorDischarge Pregnancy
  attributes:
    date_of_birth: 1990-01-01
    given_name: DenominatorDischarge
    family_name: Pregnancy
    sex: Male
  clinical_models:
    clinical_activities:
    - code_type: UB
      code_value: '0100'  # Discharge
      start_date: 2016-02-01
      stop_date: 2016-02-01
    diagnoses:
    - code_type: ICD10CM
      code_value: 'O00.0'  # Pregnancy
      start_date: 2016-02-01
      stop_date: 2016-02-01
- name: DenominatorPlanned WithProcedure
  attributes:
    date_of_birth: 1990-01-01
    given_name: DenominatorPlanned
    family_name: WithProcedure
    sex: Male
  clinical_models:
    clinical_activities:
    - code_type: UB
      code_value: '0100'  # Discharge
      start_date: 2016-02-01
      stop_date: 2016-02-01
    - code_type: UB
      code_value: '0100'  # Planned readmission
      start_date: 2016-02-03 # Earliest within 30 days
      stop_date: 2016-02-03
    - code_type: CPT
      code_value: '50300'  # Kidney transplant
      start_date: 2016-02-03
      stop_date: 2016-02-03
    - code_type: UB
      code_value: '0100'  # Planned readmission
      start_date: 2016-02-04
      stop_date: 2016-02-04
- name: DenominatorPlanned WithoutProcedure
  attributes:
    date_of_birth: 1990-01-01
    given_name: DenominatorPlanned
    family_name: WithoutProcedure
    sex: Male
  clinical_models:
    clinical_activities:
    - code_type: UB
      code_value: '0100'  # Discharge
      start_date: 2016-02-01
      stop_date: 2016-02-01
    - code_type: UB
      code_value: '0100'  # Planned readmission
      start_date: 2016-02-03 # Earliest within 30 days
      stop_date: 2016-02-03
    - code_type: UB
      code_value: '0100'  # Planned readmission
      start_date: 2016-02-04
      stop_date: 2016-02-04
    - code_type: CPT
      code_value: '50300'  # Kidney transplant
      start_date: 2016-02-04
      stop_date: 2016-02-04
- name: DenominatorPlanned Late
  attributes:
    date_of_birth: 1990-01-01
    given_name: DenominatorPlanned
    family_name: Late
    sex: Male
  clinical_models:
    clinical_activities:
    - code_type: UB
      code_value: '0100'  # Discharge
      start_date: 2016-02-01
      stop_date: 2016-02-01
    - code_type: UB
      code_value: '0100'  # Planned readmission
      start_date: 2016-03-03 # Too late
      stop_date: 2016-03-03
    - code_type: CPT
      code_value: '50300'  # Kidney transplant
      start_date: 2016-03-03
      stop_date: 2016-03-03
- name: DenominatorHospice Before
  attributes:
    date_of_birth: 1990-01-01
    given_name: DenominatorHospice
    family_name: Before
    sex: Male
  clinical_models:
    clinical_activities:
    - code_type: UB
      code_value: '0100'  # Discharge
      start_date: 2016-02-01
      stop_date: 2016-02-01
      provider: Rachel
    - code_type: CPT
      code_value: G9691 # Hospice service
      start_date: 2015-12-31 # Too early
- name: DenominatorHospice Lower
  attributes:
    date_of_birth: 1990-01-01
    given_name: DenominatorHospice
    family_name: Lower
    sex: Male
  clinical_models:
    clinical_activities:
    - code_type: UB
      code_value: '0100'  # Discharge
      start_date: 2016-02-01
      stop_date: 2016-02-01
    - code_type: CPT
      code_value: G9691 # Hospice service
      start_date: 2016-01-01 # Lower bound
- name: DenominatorHospice Upper
  attributes:
    date_of_birth: 1990-01-01
    given_name: DenominatorHospice
    family_name: Upper
    sex: Male
  clinical_models:
    clinical_activities:
    - code_type: UB
      code_value: '0100'  # Discharge
      start_date: 2016-02-01
      stop_date: 2016-02-01
    - code_type: CPT
      code_value: G9691 # Hospice service
      start_date: 2016-12-31 # Upper bound
- name: DenominatorHospice After
  attributes:
    date_of_birth: 1990-01-01
    given_name: DenominatorHospice
    family_name: After
    sex: Male
  clinical_models:
    clinical_activities:
    - code_type: UB
      code_value: '0100'
      start_date: 2016-02-01
      stop_date: 2016-02-01
    - code_type: CPT
      code_value: G9691 # Hospice service
      start_date: 2017-01-01 # Too late
- name: Readmission Before
  attributes:
    date_of_birth: 1990-01-01
    given_name: Readmission
    family_name: Before
    sex: Male
  clinical_models:
    clinical_activities:
    - code_type: UB
      code_value: '0100'  # Discharge
      start_date: 2016-02-01
      stop_date: 2016-02-01
    - code_type: UB
      code_value: '0100'  # Readmission
      start_date: 2016-02-02 # Too early
      stop_date: 2016-02-02
- name: Readmission Lower
  attributes:
    date_of_birth: 1990-01-01
    given_name: Readmission
    family_name: Lower
    sex: Male
  clinical_models:
    clinical_activities:
    - code_type: UB
      code_value: '0100'  # Discharge
      start_date: 2016-02-01
      stop_date: 2016-02-01
    - code_type: UB
      code_value: '0100'  # Readmission
      start_date: 2016-02-03 # Lower
      stop_date: 2016-02-03
- name: Readmission Upper
  attributes:
    date_of_birth: 1990-01-01
    given_name: Readmission
    family_name: Upper
    sex: Male
  clinical_models:
    clinical_activities:
    - code_type: UB
      code_value: '0100'  # Discharge
      start_date: 2016-02-01
      stop_date: 2016-02-01
    - code_type: UB
      code_value: '0100'  # Readmission
      start_date: 2016-03-02 # Upper
      stop_date: 2016-03-02
- name: Readmission After
  attributes:
    date_of_birth: 1990-01-01
    given_name: Readmission
    family_name: After
    sex: Male
  clinical_models:
    clinical_activities:
    - code_type: UB
      code_value: '0100'  # Discharge
      start_date: 2016-02-01
      stop_date: 2016-02-01
    - code_type: UB
      code_value: '0100'  # Readmission
      start_date: 2016-03-03 # Late
      stop_date: 2016-03-03
