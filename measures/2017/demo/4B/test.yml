measure_id: 17.Demoencounter.Demo4b
test_set_keys:
  organization_key:
    patients:
      - name: DenominatorEncounter Before # Early
        denominator:
        denominator_exclusion:
        denominator_exception:
        numerator:
      - name: DenominatorEncounter Lower # Lower bound
        denominator: 1
        denominator_exclusion:
        denominator_exception:
        numerator: performance_not_met
      - name: DenominatorEncounter Upper # Upper Bound
        denominator: 1
        denominator_exclusion:
        denominator_exception:
        numerator: performance_not_met
      - name: DenominatorEncounter After # Late
        denominator:
        denominator_exclusion:
        denominator_exception:
        numerator:
      - name: DenominatorAssessment Before # Early
        denominator:
        denominator_exclusion:
        denominator_exception:
        numerator:
      - name: DenominatorAssessment Lower # Lower bound
        denominator: 1
        denominator_exclusion:
        denominator_exception:
        numerator: performance_not_met
      - name: DenominatorAssessment Upper # Upper Bound
        denominator: 1
        denominator_exclusion:
        denominator_exception:
        numerator: performance_not_met
      - name: DenominatorAssessment After # Late
        denominator:
        denominator_exclusion:
        denominator_exception:
        numerator:
      - name: DenominatorAssessment TooHigh # Late
        denominator:
        denominator_exclusion:
        denominator_exception:
        numerator:
      - name: PerformanceMetAssessment Before # Early
        denominator: 1
        denominator_exclusion:
        denominator_exception:
        numerator: performance_not_met
      - name: PerformanceMetAssessment Lower # Lower bound
        denominator: 1
        denominator_exclusion:
        denominator_exception:
        numerator: performance_met
      - name: PerformanceMetAssessment Upper # Upper bound
        denominator: 1
        denominator_exclusion:
        denominator_exception:
        numerator: performance_met
      - name: PerformanceMetAssessment After # Late
        denominator: 1
        denominator_exclusion:
        denominator_exception:
        numerator: performance_not_met
      - name: PerformanceMetAssessment TooLow # Late
        denominator: 1
        denominator_exclusion:
        denominator_exception:
        numerator: performance_not_met
  providers_key:
    - name: Rachel
      patients:
        - name: DenominatorEncounter Before # Early
          denominator:
          denominator_exclusion:
          denominator_exception:
          numerator:
        - name: DenominatorEncounter Lower # Lower bound
          denominator: 1
          denominator_exclusion:
          denominator_exception:
          numerator: performance_not_met
        - name: DenominatorEncounter Upper # Upper Bound
          denominator: 1
          denominator_exclusion:
          denominator_exception:
          numerator: performance_not_met
        - name: DenominatorEncounter After # Late
          denominator:
          denominator_exclusion:
          denominator_exception:
          numerator:
        - name: DenominatorAssessment Before # Early
          denominator:
          denominator_exclusion:
          denominator_exception:
          numerator:
        - name: DenominatorAssessment Lower # Lower bound
          denominator: 1
          denominator_exclusion:
          denominator_exception:
          numerator: performance_not_met
        - name: DenominatorAssessment Upper # Upper Bound
          denominator: 1
          denominator_exclusion:
          denominator_exception:
          numerator: performance_not_met
        - name: DenominatorAssessment After # Late
          denominator:
          denominator_exclusion:
          denominator_exception:
          numerator:
        - name: DenominatorAssessment TooHigh # Late
          denominator:
          denominator_exclusion:
          denominator_exception:
          numerator:
        - name: PerformanceMetAssessment Before # Early
          denominator: 1
          denominator_exclusion:
          denominator_exception:
          numerator: performance_not_met
        - name: PerformanceMetAssessment Lower # Lower bound
          denominator: 1
          denominator_exclusion:
          denominator_exception:
          numerator: performance_met
        - name: PerformanceMetAssessment Upper # Upper bound
          denominator: 1
          denominator_exclusion:
          denominator_exception:
          numerator: performance_met
        - name: PerformanceMetAssessment After # Late
          denominator: 1
          denominator_exclusion:
          denominator_exception:
          numerator: performance_not_met
        - name: PerformanceMetAssessment TooLow # Late
          denominator: 1
          denominator_exclusion:
          denominator_exception:
          numerator: performance_not_met
providers:
- given_name: Rachel
  family_name:  Katz
  credential: DO
  primary_specialty:  Family Medicine
  external_id: '111-111'
- given_name: Patty
  family_name:  Smith
  credential: MD
  primary_specialty:  Family Medicine
  external_id: '222-222'
patients:
- name: DenominatorEncounter Before
  attributes:
    date_of_birth: 1950-01-01
    given_name: DenominatorEncounter
    family_name: Before
    sex: Male
  clinical_models:
    clinical_activities:
    - code_type: SNOMEDCT
      code_value: 6143009
      start_date: 2015-12-31 # Too early
      stop_date: 2015-12-31
      provider: Rachel
    - code_type: SNOMEDCT
      code_value: 713863004
      start_date: 2015-12-31
      result: 46
- name: DenominatorEncounter Lower
  attributes:
    date_of_birth: 1950-01-01
    given_name: DenominatorEncounter
    family_name: Lower
    sex: Male
  clinical_models:
    clinical_activities:
    - code_type: SNOMEDCT
      code_value: 6143009
      start_date: 2016-01-02 # Lower bound
      stop_date: 2016-01-02
      provider: Rachel
    - code_type: SNOMEDCT
      code_value: 713863004
      start_date: 2016-01-02
      result: 46
- name: DenominatorEncounter Upper
  attributes:
    date_of_birth: 1950-01-01
    given_name: DenominatorEncounter
    family_name: Upper
    sex: Male
  clinical_models:
    clinical_activities:
    - code_type: SNOMEDCT
      code_value: 6143009
      start_date: 2016-12-31 # Upper bound
      stop_date: 2016-12-31
      provider: Rachel
    - code_type: SNOMEDCT
      code_value: 713863004
      start_date: 2016-12-31
      result: 46
- name: DenominatorEncounter After
  attributes:
    date_of_birth: 1950-01-01
    given_name: DenominatorEncounter
    family_name: After
    sex: Male
  clinical_models:
    clinical_activities:
    - code_type: SNOMEDCT
      code_value: 6143009
      start_date: 2017-01-01 # Too late
      stop_date: 2017-01-01
      provider: Rachel
    - code_type: SNOMEDCT
      code_value: 713863004
      start_date: 2017-01-01
      result: 46
- name: DenominatorAssessment Before
  attributes:
    date_of_birth: 1950-01-01
    given_name: DenominatorAssessment
    family_name: Before
    sex: Male
  clinical_models:
    clinical_activities:
    - code_type: SNOMEDCT
      code_value: 6143009
      start_date: 2016-02-02
      stop_date: 2016-02-02
      provider: Rachel
    - code_type: SNOMEDCT
      code_value: 713863004
      start_date: 2016-02-01 # Too early
      result: 46
- name: DenominatorAssessment Lower
  attributes:
    date_of_birth: 1950-01-01
    given_name: DenominatorAssessment
    family_name: Lower
    sex: Male
  clinical_models:
    clinical_activities:
    - code_type: SNOMEDCT
      code_value: 6143009
      start_date: 2016-02-02
      stop_date: 2016-02-02
      provider: Rachel
    - code_type: SNOMEDCT
      code_value: 713863004
      start_date: 2016-02-02 # Lower bound
      result: 46
- name: DenominatorAssessment Upper
  attributes:
    date_of_birth: 1950-01-01
    given_name: DenominatorAssessment
    family_name: Upper
    sex: Male
  clinical_models:
    clinical_activities:
    - code_type: SNOMEDCT
      code_value: 6143009
      start_date: 2016-02-02
      stop_date: 2016-02-03
      provider: Rachel
    - code_type: SNOMEDCT
      code_value: 713863004
      start_date: 2016-02-03 # Upper bound
      result: 46
- name: DenominatorAssessment After
  attributes:
    date_of_birth: 1950-01-01
    given_name: DenominatorAssessment
    family_name: After
    sex: Male
  clinical_models:
    clinical_activities:
    - code_type: SNOMEDCT
      code_value: 6143009
      start_date: 2016-02-02
      stop_date: 2016-02-03
      provider: Rachel
    - code_type: SNOMEDCT
      code_value: 713863004
      start_date: 2016-02-04 # Too late
      result: 46
- name: DenominatorAssessment TooHigh
  attributes:
    date_of_birth: 1950-01-01
    given_name: DenominatorAssessment
    family_name: TooHigh
    sex: Male
  clinical_models:
    clinical_activities:
    - code_type: SNOMEDCT
      code_value: 6143009
      start_date: 2016-02-02
      stop_date: 2016-02-02
      provider: Rachel
    - code_type: SNOMEDCT
      code_value: 713863004
      start_date: 2015-12-31
      result: 46 # Too low
- name: PerformanceMetAssessment Before
  attributes:
    date_of_birth: 1950-01-01
    given_name: PerformanceMetAssessment
    family_name: Before
    sex: Male
  clinical_models:
    clinical_activities:
    - code_type: SNOMEDCT
      code_value: 6143009
      start_date: 2016-02-02
      stop_date: 2016-02-02
      provider: Rachel
    - code_type: SNOMEDCT
      code_value: 713863004
      start_date: 2016-02-02
      result: 46
    - code_type: SNOMEDCT
      code_value: 713863004
      start_date: 2016-08-01 # Too early
      result: 47
- name: PerformanceMetAssessment Lower
  attributes:
    date_of_birth: 1950-01-01
    given_name: PerformanceMetAssessment
    family_name: Lower
    sex: Male
  clinical_models:
    clinical_activities:
    - code_type: SNOMEDCT
      code_value: 6143009
      start_date: 2016-02-02
      stop_date: 2016-02-02
      provider: Rachel
    - code_type: SNOMEDCT
      code_value: 713863004
      start_date: 2016-02-02
      result: 46
    - code_type: SNOMEDCT
      code_value: 713863004
      start_date: 2016-08-02 # Lower bound
      result: 47
- name: PerformanceMetAssessment Upper
  attributes:
    date_of_birth: 1950-01-01
    given_name: PerformanceMetAssessment
    family_name: Upper
    sex: Male
  clinical_models:
    clinical_activities:
    - code_type: SNOMEDCT
      code_value: 6143009
      start_date: 2016-02-02
      stop_date: 2016-02-02
      provider: Rachel
    - code_type: SNOMEDCT
      code_value: 713863004
      start_date: 2016-02-02
      result: 46
    - code_type: SNOMEDCT
      code_value: 713863004
      start_date: 2016-12-31 # Upper bound
      result: 47
- name: PerformanceMetAssessment After
  attributes:
    date_of_birth: 1950-01-01
    given_name: PerformanceMetAssessment
    family_name: After
    sex: Male
  clinical_models:
    clinical_activities:
    - code_type: SNOMEDCT
      code_value: 6143009
      start_date: 2016-02-02
      stop_date: 2016-02-02
      provider: Rachel
    - code_type: SNOMEDCT
      code_value: 713863004
      start_date: 2016-02-02
      result: 46
    - code_type: SNOMEDCT
      code_value: 713863004
      start_date: 2017-01-01 # Too late
      result: 47
- name: PerformanceMetAssessment TooLow
  attributes:
    date_of_birth: 1950-01-01
    given_name: PerformanceMetAssessment
    family_name: TooLow
    sex: Male
  clinical_models:
    clinical_activities:
    - code_type: SNOMEDCT
      code_value: 6143009
      start_date: 2016-02-02
      stop_date: 2016-02-02
      provider: Rachel
    - code_type: SNOMEDCT
      code_value: 713863004
      start_date: 2016-02-02
      result: 46
    - code_type: SNOMEDCT
      code_value: 713863004
      start_date: 2016-12-31
      result: 46 # Too low
