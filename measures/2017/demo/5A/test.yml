measure_id: 17.Demoencounter.Demo5a
test_set_keys:
  organization_key:
    episodes_of_care:
      - name: Denominator Discharge # Before
        start_date: 2015-12-31
        denominator:
        denominator_exclusion:
        denominator_exception:
        numerator:
      - name: Denominator Discharge # Lower
        start_date: 2016-01-01
        denominator: 1
        denominator_exclusion:
        denominator_exception:
        numerator: performance_not_met
      - name: Denominator Discharge # Upper
        start_date: 2016-12-31
        denominator: 1
        denominator_exclusion:
        denominator_exception:
        numerator: performance_not_met
      - name: Denominator Discharge # After
        start_date: 2017-01-01
        denominator:
        denominator_exclusion:
        denominator_exception:
        numerator:
      - name: PerformanceMet Readmission # Before
        start_date: 2016-02-01
        denominator: 1
        denominator_exclusion:
        denominator_exception:
        numerator: performance_not_met
      - name: PerformanceMet Readmission # Lower
        start_date: 2016-04-01
        denominator: 1
        denominator_exclusion:
        denominator_exception:
        numerator: performance_met
      - name: PerformanceMet Readmission # Upper
        start_date: 2016-06-01
        denominator: 1
        denominator_exclusion:
        denominator_exception:
        numerator: performance_met
      - name: PerformanceMet Readmission # After
        start_date: 2016-08-01
        denominator: 1
        denominator_exclusion:
        denominator_exception:
        numerator: performance_not_met
  providers_key:
    - name: Rachel
      episodes_of_care:
        - name: Denominator Discharge # Before
          start_date: 2015-12-31
          denominator:
          denominator_exclusion:
          denominator_exception:
          numerator:
        - name: Denominator Discharge # Lower
          start_date: 2016-01-01
          denominator: 1
          denominator_exclusion:
          denominator_exception:
          numerator: performance_not_met
        - name: Denominator Discharge # Upper
          start_date: 2016-12-31
          denominator: 1
          denominator_exclusion:
          denominator_exception:
          numerator: performance_not_met
        - name: Denominator Discharge # After
          start_date: 2017-01-01
          denominator:
          denominator_exclusion:
          denominator_exception:
          numerator:
        - name: PerformanceMet Readmission # Before
          start_date: 2016-02-01
          denominator: 1
          denominator_exclusion:
          denominator_exception:
          numerator: performance_not_met
        - name: PerformanceMet Readmission # Lower
          start_date: 2016-04-01
          denominator: 1
          denominator_exclusion:
          denominator_exception:
          numerator: performance_met
        - name: PerformanceMet Readmission # Upper
          start_date: 2016-06-01
          denominator: 1
          denominator_exclusion:
          denominator_exception:
          numerator: performance_met
        - name: PerformanceMet Readmission # After
          start_date: 2016-08-01
          denominator: 1
          denominator_exclusion:
          denominator_exception:
          numerator: performance_not_met
providers:
  - given_name: Rachel
    family_name:  Katz
    credential: DO
    primary_specialty:  Family Medicine
    external_id: 111
  - given_name: Patty
    family_name:  Smith
    credential: MD
    primary_specialty:  Family Medicine
    external_id: 222
patients:
- name: Denominator Discharge
  attributes:
    date_of_birth: 1990-01-01
    given_name: Denominator
    family_name: Discharge
    sex: Male
  clinical_models:
    clinical_activities:
    - code_type: CPT
      code_value: 99238 # Discharge
      start_date: 2015-12-31
      stop_date: 2015-12-31  # Too early
      provider: Rachel
    - code_type: CPT
      code_value: 99238 # Discharge
      start_date: 2016-01-01
      stop_date: 2016-01-01  # Lower bound
      provider: Rachel
    - code_type: CPT
      code_value: 99238 # Discharge
      start_date: 2016-12-31
      stop_date: 2016-12-31  # Upper bound
      provider: Rachel
    - code_type: CPT
      code_value: 99238 # Discharge
      start_date: 2017-01-01
      stop_date: 2017-01-01  # Too late
      provider: Rachel
- name: PerformanceMet Readmission
  attributes:
    date_of_birth: 1990-01-01
    given_name: PerformanceMet
    family_name: Readmission
    sex: Male
  clinical_models:
    clinical_activities:
    - code_type: CPT
      code_value: 99238 # Discharge
      start_date: 2016-02-01
      provider: Rachel
    - code_type: CPT
      code_value: 99231 # Readmission
      start_date: 2016-01-31 # Too early
    - code_type: CPT
      code_value: 99238 # Discharge
      start_date: 2016-04-01
      provider: Rachel
    - code_type: CPT
      code_value: 99231 # Readmission
      start_date: 2016-04-01 # Lower bound
    - code_type: CPT
      code_value: 99238 # Discharge
      start_date: 2016-06-01
      provider: Rachel
    - code_type: CPT
      code_value: 99231 # Readmission
      start_date: 2016-07-01 # Upper bound
    - code_type: CPT
      code_value: 99238 # Discharge
      start_date: 2016-08-01
      provider: Rachel
    - code_type: CPT
      code_value: 99231 # Readmission
      start_date: 2016-09-01 # Too late
