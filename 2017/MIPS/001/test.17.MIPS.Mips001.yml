test_set_key:
  measure_id: 17.MIPS.Mips117.001
  organization_key:
    - name:	Too Young
      denominator:
      denominator_exclusion:
      denominator_exception:
      numerator:
    - name:	Too Old
      denominator:
      denominator_exclusion:
      denominator_exception:
      numerator:
    - name:	Patient Lower
      denominator: 1
      denominator_exclusion:
      denominator_exception:
      numerator:
    - name:	Patient Upper
      denominator: 1
      denominator_exclusion:
      denominator_exception:
      numerator:
    - name: Patient Male
      denominator: 1
      denominator_exclusion:
      denominator_exception:
      numerator:
    - name: Patient Female
      denominator: 1
      denominator_exclusion:
      denominator_exception:
      numerator:
    - name: Patient NoEncounter
      denominator:
      denominator_exclusion:
      denominator_exception:
      numerator:
    - name: Patient AfterEncounter
      denominator:
      denominator_exclusion:
      denominator_exception:
      numerator:
    - name: Patient BeforeEncounter
      denominator:
      denominator_exclusion:
      denominator_exception:
      numerator:
    - name: Patient Excluded
      denominator:
      denominator_exclusion: exclusion
      denominator_exception:
      numerator:
    - name:	Patient NumSuccessLabGreater9
      denominator: 1
      denominator_exclusion:
      denominator_exception:
      numerator: F/3046
    - name:	Patient PerfMetNoLabResult
      denominator: 1
      denominator_exclusion:
      denominator_exception:
      numerator: S/4036F-8P
    - name:	Patient NumFailMostRecentLabLess9
      denominator: 1
      denominator_exclusion:
      denominator_exception:
      numerator: F/3044
    - name:	Patient NumFailMostRecentLab7to9
      denominator: 1
      denominator_exclusion:
      denominator_exception:
      numerator: F/3045
providers:
  - given_name:	Rachel
    family_name:	Katz
    credential:	DO
    primary_specialty:	Family Medicine
    pqrs_provider: true
  - given_name:	Patty
    family_name:	Smith
    credential:	MD
    primary_specialty:	Family Medicine
    pqrs_provider: true
patients:
- name: Patient is too young for the denominator
  attributes:
    date_of_birth: 1/1/1998
    given_name: Too
    family_name: Young
    sex: Male
  clinical_models:
    clinical_activities:
    - code_type: CPT
      code_value: 99219
      start_datetime: 2017-05-01
      provider: Rachel
    diagnoses:
    - code_type: ICD10CM
      code_value: E13.49
      start_datetime: 2010-01-01
- name: Patient is too old for the denominator
  attributes:
    date_of_birth: 1/1/1941
    given_name: Too
    family_name: Old
    sex: Female
  clinical_models:
    clinical_activities:
    - code_type: CPT
      code_value: 99219
      start_datetime: 2017-05-01
      provider: Rachel
  diagnoses:
    - code_type: ICD10CM
      code_value: E10.10
      start_datetime: 2010-01-01
- name: Patient is at lower end of the age range but meets denominator otherwise
  attributes:
    date_of_birth: 12/31/1997
    given_name: Patient
    family_name: Lower
    sex: Female
  clinical_models:
    clinical_activities:
    - code_type: CPT
      code_value: 99342
      start_datetime: 2017-09/01
      provider: Rachel
    diagnoses:
    - code_type: ICD10CM
      code_value: E10.10
      start_datetime: 2010-01-01
- name: Patient is at upper end of the age range but meets denominator otherwise
  attributes:
    date_of_birth: 1/2/1941
    given_name: Patient
    family_name: Upper
    sex: Female
  clinical_models:
    clinical_activities:
    - code_type: CPT
      code_value: 99211
      start_datetime: 2017-09/01
      provider: Rachel
    diagnoses:
    - code_type: ICD10CM
      code_value: E10.21
      start_datetime: 2010-01-01
- name: Patient male, meets denominator
  attributes:
    date_of_birth:
    given_name: Patient
    family_name: Male
    sex: Male
  clinical_models:
    clinical_activities:
    - code_type: CPT
      code_value: 99211
      start_datetime: 2017-09-01
      provider: Rachel
  diagnoses:
    - code_type: ICD10CM
      code_value: E10.21
      start_datetime: 2010-01-01
- name: Patient female, meets denominator
  attributes:
    date_of_birth:
    given_name: Patient
    family_name: Female
    sex: Female
  clinical_models:
    clinical_activities:
    - code_type: CPT
      code_value: 99212
      start_datetime: 2017-09-01
      provider: Rachel
    diagnoses:
    - code_type: ICD10CM
      code_value: E10.21
      start_datetime: 2010-01-01
- name: Patient has no qualifying encounters
  attributes:
    date_of_birth: 1998-01-01
    given_name: Patient
    family_name: NoEncounter
    sex: Female
  clinical_models:
    clinical_activities:
    - code_type: CPT
      code_value: 92508
      start_datetime:2017-10-01
    diagnoses:
    - code_type: ICD10CM
      code_value: E10.21
      start_datetime: 2010-01-01
- name: Qualifying encounter after the measurement period
  attributes:
    date_of_birth: 1966-01-01
    given_name: Patient
    family_name: AfterEncounter
    sex: Male
  clinical_models:
    clinical_activities:
    - code_type: CPT
      code_value: 99211
      start_datetime: 2018-01-10
      provider: Rachel
    diagnoses:
    - code_type: ICD10CM
      code_value: E10.29
      start_datetime: 2010-01-01
  - name: Qualifying encounter before the measurement period
    attributes:
      date_of_birth: 1966-01-01
      given_name: Patient
      family_name: BeforeEncounter
      sex: Male
    diagnoses:
    - code_type: ICD10CM
      code_value: E10.29
      start_datetime: 2010-01-01
    clinical_models:
      clinical_activities:
      - code_type: CPT
        code_value: 99211
        start_datetime: 2016-01-01
        provider: Rachel
    diagnoses:
    - code_type: ICD10CM
      code_value: E10.319
      start_datetime: 2010-01-01
  - name: Patient Excluded from encounter because of hospice services
    attributes:
      date_of_birth: 1966-01-01
      given_name: Patient
      family_name: Excluded
      sex: Male
    diagnoses:
    - code_type: ICD10CM
      code_value: E11.3392
      start_datetime: 2010-01-01
    clinical_models:
      clinical_activities:
      - code_type: CPT
        code_value: 99211
        start_datetime: 2016-01-01
        provider: Rachel
    clinical_activities:
    - code_type: SNOMEDCT
      code_value: 306288008
      start_datetime: 2016-01-01
  - name: Patient has lab test and result > 9%
    attributes:
      date_of_birth: 1975-10-01
      given_name: Patient
      family_name: NumSuccessLabGreater9
      sex: Male
    diagnoses:
    - code_type: ICD10CM
      code_value: E11.3392
      start_datetime: 2010-01-01
    clinical_models:
      clinical_activities:
      - code_type: CPT
        code_value: 99291
        start_datetime: 2016-01-01
        provider: Rachel
      laboratory_tests:
      - code_type: LOINC
        code_value: 4548-4
        start_datetime: 2017-10-01
        result: 9
  - name: Patient did not have a lab test performed for HbA1c
    attributes:
      date_of_birth: 1975-10-01
      given_name: Patient
      family_name: NumSuccessNoLabResult
      sex: Male
    diagnoses:
    - code_type: ICD10CM
      code_value: E11.3392
      start_datetime: 2010-01-01
    clinical_models:
      clinical_activities:
      - code_type: CPT
        code_value: 99291
        start_datetime: 2016-01-01
        provider: Rachel
      laboratory_tests:
      - code_type:
        code_value:
        start_datetime:
        result:
  - name: Patient's most recent HbA1c < 7.0%
    attributes:
      date_of_birth: 1975-10-01
      given_name: Patient
      family_name: NumFailMostRecentLabLess9
      sex: Male
    diagnoses:
    - code_type: ICD10CM
      code_value: E11.3392
      start_datetime: 2010-01-01
    clinical_models:
      clinical_activities:
      - code_type: CPT
        code_value: 99291
        start_datetime: 2016-01-01
        provider: Rachel
      laboratory_tests:
      - code_type: LOINC
        code_value: 4548-4
        start_datetime: 2011-10-01
        result: 6
  - name: Patient's most recent HbA1c between 8-9%
    attributes:
      date_of_birth: 1975-10-01
      given_name: Patient
      family_name: NumFailMostRecentLabLess9
      sex: Male
    diagnoses:
    - code_type: ICD10CM
      code_value: E11.3392
      start_datetime: 2010-01-01
    clinical_models:
      clinical_activities:
      - code_type: CPT
        code_value: 99291
        start_datetime: 2016-01-01
        provider: Rachel
      laboratory_tests:
      - code_type: LOINC
        code_value: 4548-4
        start_datetime: 2011-10-01
        result: 8
  - name: Patient's most recent HbA1c between 8-9 %
    attributes:
      date_of_birth: 1975-10-01
      given_name: Patient
      family_name: NumFailMostRecentLabLess9
      sex: Male
    diagnoses:
    - code_type: ICD10CM
      code_value: E11.3392
      start_datetime: 2010-01-01
    clinical_models:
      clinical_activities:
      - code_type: CPT
        code_value: 99291
        start_datetime: 2016-01-01
        provider: Rachel
      laboratory_tests:
      - code_type: LOINC
        code_value: 4548-4
        start_datetime: 2011-10-01
