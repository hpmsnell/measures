measure:
  name: 17.MIPS.Mips001
  required:
    display_title: Diabetes: Hemoglobin A1c (HbA1c) Poor Control (>9%)
  optional:
    gap_resolution_action: //How do I put multiple gap reasons here?
    set: MIPS
    external_id: 001
    version: 2017
exclusion_reasons:
  - metadata_identifier_link: Denominator_exclusion_1
    required:
      display_title: Patient excluded due to intervention palliative care services
      validation_records:
        group:
          count: 1
          - model: ClinicalActivity
            value_set_name: "VSCAC; Palliative Care"
  - metadata_identifier_link: Denominator_exclusion_2
    required:
      display_title: Patient excluded due to intervention of hospice services
      validation_records:
        group:
          count: 1
          - model: ClinicalActivity
            value_set_name: "MIPS; Hospice Service: G9687"

  #numerator met
  #Note this is a reverse measure, success is actually worse (lower score = better)
success_reasons:
  - metadata_identifier_link: 3046F
    required:
      display_title: Most recent hemoglobin A1c level > 9.0%
      validation_records:
        group:
          count: 1
          - model: ClinicalActivity
  - metadata_identifier_link: 3046F-8P
    required:
      display_title: Hemoglobin A1c level was not performed during the measurement period (12 months).

        group:
          count: 1
          - model: ClinicalActivity
            value_set_name: "VSAC; HbA1c Laboratory Test"
    optional:
      code_value: 3046F-8P

#Note this is a reverse measures, failure is actually better (higher score = worse)
failure_reasons:
  - metadata_identifier_link: 3044F
    required:
      display_title: Most recent hemoglobin A1c (HbA1c) level < 7.0% (3044F)
        group:
          count: 1
          - model: ClinicalActivity
            value_set_name: "VSAC; HbA1c Laboratory Test"
        optional:
          code_value: 3044F
  - metadata_identifier_link: 3045F
    required:
      display_title: Most recent hemoglobin A1c (HbA1c) level 7.0 to 9.0%
        group:
          count: 1
          - model: ClinicalActivity
            value_set_name: "VSAC; HbA1c Laboratory Test"
        optional:
          code_value: 3045F
